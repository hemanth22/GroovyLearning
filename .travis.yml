language: groovy
sudo: required

script:
  - mvn clean -DskipTests=false -B
  - mvn install -DskipTests=false -B
  - mvn test -B
  - mvn cobertura:cobertura
  - sudo apt-get install -y tree
  - tree $TRAVIS_BUILD_DIR

after_failure:
    #- set -x
    - wget -O createIssue.sh https://gist.githubusercontent.com/hemanth22/882951151d01a4ff097f83de23fee728/raw/ee5058ad63c8cefe4a1328377e20eec92979e430/IssueApigit.sh
    - chmod 777 createIssue.sh
    - ./createIssue.sh

after_success:
  - bash <(curl -s https://codecov.io/bash)

notifications:
 slack:
   rooms:
     - nothingorganization:GN1JzklSpbMyfZVWcS05U6a0#mygitrepos
